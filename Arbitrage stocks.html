<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>LTP SCALPER | Arbitrage Stocks</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- üîê LOGIN PROTECTION -->
<script>
(function(){
  try{
    if(localStorage.getItem("ltp_logged_in")!=="true"){
      window.location.replace("/index.html");
    }
  }catch(e){
    window.location.replace("/index.html");
  }
})();
</script>

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">

<style>
:root{
  --orange:#ff8c00;
  --light-orange:#ffb703;
  --bg:#fffaf2;
}
*{box-sizing:border-box}

body{
  margin:0;
  font-family:Poppins,sans-serif;
  background:var(--bg);
  color:#333;
}

/* ===== HEADER ===== */
header{
  background:#fff;
  border-bottom:2px solid var(--light-orange);
  padding:14px 18px;
}
.header-row{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:12px;
}
.title-wrap{
  display:flex;
  align-items:center;
  gap:10px;
  flex-wrap:wrap;
}
.main-title{
  font-size:22px;
  font-weight:700;
  color:var(--orange);
}
.sub-title{
  font-size:13px;
  font-weight:600;
  color:#555;
}

.back-btn{
  background:#ff8c00;
  color:#fff;
  border:none;
  padding:8px 16px;
  border-radius:20px;
  font-size:12px;
  font-weight:600;
  cursor:pointer;
  white-space:nowrap;
}
.back-btn:hover{
  background:#e67e00;
}

/* ===== TABLE ===== */
.container{padding:16px}
.table-box{
  background:#fff;
  border-radius:14px;
  box-shadow:0 8px 22px rgba(0,0,0,.08);
  overflow-x:auto;
}
table{
  width:100%;
  min-width:1100px;
  border-collapse:collapse;
  font-size:13px;
}
thead th{
  background:#2f5f4a;
  color:#fff;
  padding:12px;
  position:sticky;
  top:0;
}
tbody td{
  padding:10px;
  border-bottom:1px solid #eee;
  white-space:nowrap;
}
tbody tr:hover{background:#fff7e0}
.symbol{font-weight:700}
.green{color:green;font-weight:700}

/* ===== FOOTER ===== */
footer{
  text-align:center;
  padding:14px;
  font-size:11px;
  color:#777;
  background:#fff;
  border-top:1px solid #eee;
}

/* MOBILE */
@media(max-width:768px){
  .main-title{font-size:20px}
  .sub-title{font-size:12px}
}
</style>
</head>

<body>

<!-- ===== HEADER ===== -->
<header>
  <div class="header-row">
    <div class="title-wrap">
      <div class="main-title">LTP SCALPER</div>
      <div class="sub-title">Arbitrage</div>
    </div>

    <button class="back-btn" onclick="goBack()">‚Üê Back to Dashboard</button>
  </div>
</header>

<!-- ===== TABLE ===== -->
<div class="container">
  <div class="table-box">
    <table>
      <thead>
        <tr>
          <th>Symbol</th>
          <th>Spot</th>
          <th>Future</th>
          <th>Lot</th>
          <th>Turnover</th>
          <th>Profit</th>
          <th>Profit %</th>
          <th>Annual %</th>
        </tr>
      </thead>
      <tbody id="arbData"></tbody>
    </table>
  </div>
</div>

<!-- ===== FOOTER ===== -->
<footer>
  ¬© 2026 <strong>Credvantage Financial Advisory Pvt. Ltd.</strong><br>
  Data shown is for educational purposes only.
</footer>

<!-- üîô BACK -->
<script>
function goBack(){
  window.history.back();
}
</script>

<!-- üî¥ ARBITRAGE DATA FETCH -->
<script>
async function loadArbitrage(){
  try{
    const res = await fetch(
      "https://script.google.com/macros/s/AKfycbx_swZefGqNp-MrmlKmDXC7qNuZkVX2e1SR_FwwVk_jaaCySSlXyXYDQCaweOvB5gI2/exec"
    );
    const data = await res.json();

    let html="";
    data.forEach(s=>{
      html+=`
        <tr>
          <td class="symbol">${s.symbol}</td>
          <td>‚Çπ${s.spot}</td>
          <td>‚Çπ${s.future}</td>
          <td>${s.lot}</td>
          <td>‚Çπ${Number(s.turnover).toLocaleString()}</td>
          <td class="green">‚Çπ${s.profit}</td>
          <td class="green">${s.profit_pct}</td>
          <td class="green">${s.annual_pct}</td>
        </tr>
      `;
    });

    document.getElementById("arbData").innerHTML = html;
  }catch(e){
    console.error("ARBITRAGE ERROR:",e);
  }
}
loadArbitrage();
setInterval(loadArbitrage,15000);
</script>

</body>
</html>
